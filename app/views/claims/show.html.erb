<div class="validator-container">
  <div class="validator-box">
    <div class="validator-header">
      <div class="logo logo--large">LV</div>
      <h1>Claim Result<br><span><%= @claim.result %></span></h1>
    </div>

    <div class="result-body">
      <p><strong>Claim:</strong><br><%= @claim.content %></p>
      <p><strong>Evidence:</strong><br><%= simple_format(@claim.evidence) %></p>
      
      <% @claim.reasonings.each do |reasoning| %>
        <div class="reasoning-section">
          <h3><%= reasoning.source %> Analysis</h3>
          <h3>Result:<br><span><%= reasoning.result %></span></h3>
          <p><strong>AI Reasoning:</strong><br><%= simple_format(reasoning.response) %></p>
        </div>
      <% end %>
    </div>

    <div class="actions">
      <%= link_to "Submit Another Claim", new_claim_path, class: "validator-button" %>
      <%= link_to "← Back to Dashboard", root_path, class: "back-button" %>
    </div>
  </div>
</div>

<div class="claim-container">
  <div class="challenges-section">
    <h2>Challenges</h2>
    
    <div id="challenges">
      <%= render partial: 'challenges/challenge', collection: @claim.challenges %>
    </div>

    <% if user_signed_in? %>
      <div id="challenge_form">
        <%= render 'challenges/form', claim: @claim, challenge: @claim.challenges.new %>
      </div>
    <% end %>
  </div>
</div>

<div class="processing-overlay">
  <div class="loader-container">
    <div class="loader"></div>
    <p class="loader-text">Processing your challenge...</p>
  </div>
</div>
